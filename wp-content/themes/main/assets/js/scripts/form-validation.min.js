const Validator=e=>{let t={};const r=document.querySelector(e.form),o=(e,t)=>{for(;e.parentElement;){if(e.parentElement.matches(t))return e.parentElement;e=e.parentElement}},s=(s,i)=>{const l=o(s,e.formGroupSelector).querySelector(e.errorSelector),n=t[i.selector];let a;for(let e=0;e<n.length;e++){switch(s.type){case"radio":case"checkbox":a=r.querySelector(i.selector+":checked")?n[e](r.querySelector(i.selector+":checked").value):n[e]("");break;default:a=n[e](s.value)}if(a)break}return a?(l.innerText=a,o(s,e.formGroupSelector).classList.add(e.classError)):(l.innerText="",o(s,e.formGroupSelector).classList.remove(e.classError)),!a};if(r){const i=e.rules;i.forEach(i=>{Array.isArray(t[i.selector])?t[i.selector].push(i.testing):t[i.selector]=[i.testing];const l=r.querySelectorAll(i.selector);Array.from(l).forEach(t=>{t&&(t.onblur=(()=>{s(t,i)}),t.oninput=(()=>{o(t,e.formGroupSelector).querySelector(e.errorSelector).innerText="",o(t,e.formGroupSelector).classList.remove(e.classError)}))})}),r.onsubmit=(t=>{t.preventDefault();let o=!0;if(i.forEach(e=>{const t=r.querySelector(e.selector);s(t,e)||(o=!1)}),o)if("function"==typeof e.onSubmit){const t=r.querySelectorAll("[name]"),o=Array.from(t).reduce((e,t)=>{switch(t.type){case"radio":e[t.name]=r.querySelector('input[name="'+t.name+'"]:checked').value;break;case"checkbox":if(!t.matches(":checked"))return e[t.name]="",e;Array.isArray(e[t.name])||(e[t.name]=[]),e[t.name].push(t.value);break;case"file":e[t.name]=t.file;break;default:e[t.name]=t.value}return e},{});e.onSubmit(o)}else r.submit()})}};Validator.isRequired=((e,t)=>({selector:e,testing:e=>e.trim()?void 0:t||"Please enter this field."})),Validator.isEmail=function(e,t){return{selector:e,testing:e=>{return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)?void 0:t||"Invalid email."}}},Validator.isMinLength=((e,t=6,r)=>({selector:e,testing:e=>e.length>=t?void 0:r||`Please enter at least ${t} characters.`})),Validator.isConfirmed=((e,t,r)=>({selector:e,testing:e=>e===t()?void 0:r||"The password does not match."})),Validator.isPhone=((e,t)=>({selector:e,testing:e=>{return/(03|07|08|09|01[2|6|8|9])+([0-9]{8})\b/.test(e)?void 0:t||"Invalid phone number."}})),Validator.isNumber=((e,t)=>({selector:e,testing:e=>{return/^[0-9]+$/.test(e)?void 0:t||"This field can only be entered numeric characters."}})),Validator.isText=((e,t)=>({selector:e,testing:e=>{return/^([a-zA-ZÀÁÂÃÈÉÊÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼỀỀỂưăạảấầẩẫậắằẳẵặẹẻẽềềểỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ\s]+)$/i.test(e)?void 0:t||"This field can only be entered text."}})),Validator.isFile=((e,t)=>({selector:e,testing:e=>{if(e){return/([a-zA-Z0-9\s_\\.\-:])+(.doc|.docx|.pdf)$/.test(e)?void 0:t||"The attached file is not in the correct format."}}})),Validator.isSizeFile=((e,t=3,r,o)=>({selector:e,testing:s=>{const i=document.querySelector(e).files[0];if(i){const e=i.size;if(e<1)return r||"Minimum file size 1KB.";if(e>1048576*t)return o||`The file size must not exceed ${t}.`}}}));